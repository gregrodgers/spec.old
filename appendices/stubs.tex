\chapter{Stubs for Runtime Library Routines}
\label{chap:Stubs for Runtime Library Routines}
\label{chap:Appendix A}
This section provides stubs for the runtime library routines defined in the OpenMP API.
The stubs are provided to enable portability to platforms that do not support the
OpenMP API. On these platforms, OpenMP programs must be linked with a library
containing these stub routines. The stub routines assume that the directives in the
OpenMP program are ignored. As such, they emulate serial semantics
executing on the host.

Note that the lock variable that appears in the lock routines must be accessed
exclusively through these routines. It should not be initialized or otherwise modified in
the user program.

In an actual implementation the lock variable might be used to hold the address of an
allocated memory block, but here it is used to hold an integer value. Users should not
make assumptions about mechanisms used by OpenMP implementations to implement
locks based on the scheme used by the stub procedures.

\begin{fortranspecific}

In order to be able to compile the Fortran stubs file, the include file
\code{omp_lib.h} was split into two files: \code{omp_lib_kinds.h} and \code{omp_lib.h} and the
\code{omp_lib_kinds.h} file included where needed. There is no requirement for the
implementation to provide separate files.

\end{fortranspecific}


\pagebreak
\input{stubs_ccpp.tex}

%\pagebreak
\input{stubs_fortran.tex}
