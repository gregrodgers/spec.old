% This is stubs.tex (Appendix A) of the OpenMP specification.
% This is an included file. See the master file for more information.
%
% When editing this file:
%
%    1. To change formatting, appearance, or style, please edit openmp.sty.
%
%    2. Custom commands and macros are defined in openmp.sty.
%
%    3. Be kind to other editors -- keep a consistent style by copying-and-pasting to
%       create new content.
%
%    4. We use semantic markup, e.g. (see openmp.sty for a full list):
%         \code{}     % for bold monospace keywords, code, operators, etc.
%         \plc{}      % for italic placeholder names, grammar, etc.
%
%    5. There are environments that provide special formatting, e.g. language bars.
%       Please use them whereever appropriate.  Examples are:
%
%         \begin{fortranspecific}
%         This is text that appears enclosed in blue language bars for Fortran.
%         \end{fortranspecific}
%
%         \begin{note}
%         This is a note.  The "Note -- " header appears automatically.
%         \end{note}
%
%    6. Other recommendations:
%         Use the convenience macros defined in openmp.sty for the minor headers
%         such as Comments, Syntax, etc.
%
%         To keep items together on the same page, prefer the use of 
%         \begin{samepage}.... Avoid \parbox for text blocks as it interrupts line numbering.
%         When possible, avoid \filbreak, \pagebreak, \newpage, \clearpage unless that's
%         what you mean. Use \needspace{} cautiously for troublesome paragraphs.
%
%         Avoid absolute lengths and measures in this file; use relative units when possible.
%         Vertical space can be relative to \baselineskip or ex units. Horizontal space
%         can be relative to \linewidth or em units.
%
%         Prefer \emph{} to italicize terminology, e.g.:
%             This is a \emph{definition}, not a placeholder.
%             This is a \plc{var-name}.
%


\chapter{Stubs for Runtime Library Routines}
\label{chap:Stubs for Runtime Library Routines}
\label{chap:Appendix A}
This section provides stubs for the runtime library routines defined in the OpenMP API. 
The stubs are provided to enable portability to platforms that do not support the 
OpenMP API. On these platforms, OpenMP programs must be linked with a library 
containing these stub routines. The stub routines assume that the directives in the 
OpenMP program are ignored. As such, they emulate serial semantics
executing on the host.

Note that the lock variable that appears in the lock routines must be accessed 
exclusively through these routines. It should not be initialized or otherwise modified in 
the user program. 

In an actual implementation the lock variable might be used to hold the address of an 
allocated memory block, but here it is used to hold an integer value. Users should not 
make assumptions about mechanisms used by OpenMP implementations to implement 
locks based on the scheme used by the stub procedures.

\begin{fortranspecific}

In order to be able to compile the Fortran stubs file, the include file 
\code{omp\_lib.h} was split into two files: \code{omp\_lib\_kinds.h} and \code{omp\_lib.h} and the 
\code{omp\_lib\_kinds.h} file included where needed. There is no requirement for the 
implementation to provide separate files.

\end{fortranspecific}


\filbreak
\input{appendices/stubs_ccpp.tex}

\pagebreak
\input{appendices/stubs_fortran.tex}
