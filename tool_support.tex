% This is tool_support.tex (Chapter 4) of the OpenMP specification.
% This is an included file. See the master file for more information.
%
% When editing this file:
%
%    1. To change formatting, appearance, or style, please edit openmp.sty.
%
%    2. Custom commands and macros are defined in openmp.sty.
%
%    3. Be kind to other editors -- keep a consistent style by copying-and-pasting to
%       create new content.
%
%    4. We use semantic markup, e.g. (see openmp.sty for a full list):
%         \code{}     % for bold monospace keywords, code, operators, etc.
%         \plc{}      % for italic placeholder names, grammar, etc.
%
%    5. There are environments that provide special formatting, e.g. language bars.
%       Please use them whereever appropriate.  Examples are:
%
%         \begin{fortranspecific}
%         This is text that appears enclosed in blue language bars for Fortran.
%         \end{fortranspecific}
%
%         \begin{note}
%         This is a note.  The "Note -- " header appears automatically.
%         \end{note}
%
%    6. Other recommendations:
%         Use the convenience macros defined in openmp.sty for the minor headers
%         such as Comments, Syntax, etc.
%
%         To keep items together on the same page, prefer the use of
%         \begin{samepage}.... Avoid \parbox for text blocks as it interrupts line numbering.
%         When possible, avoid \filbreak, \pagebreak, \newpage, \clearpage unless that's
%         what you mean. Use \needspace{} cautiously for troublesome paragraphs.
%
%         Avoid absolute lengths and measures in this file; use relative units when possible.
%         Vertical space can be relative to \baselineskip or ex units. Horizontal space
%         can be relative to \linewidth or em units.
%
%         Prefer \emph{} to italicize terminology, e.g.:
%             This is a \emph{definition}, not a placeholder.
%             This is a \plc{var-name}.
%

\newcommand{\devicedesc}{
The \plc{device} argument is a pointer to an opaque object that
represents the target device instance. Functions in the device 
tracing interface use this pointer to identify the device that 
is being addressed.
}



\chapter{Tool Support}
\index{tool support}
\label{chap:ToolsSupport}

This chapter describes OMPT, which is an interface for \emph{first-party} tools,
and OMPD, \emph{First-party} tools are linked directly into the OpenMP application
while \emph{third-party} tools exist in separate processes from the OpenMP program.
To provide OMPD support, an OpenMP implementation must provide an OMPD library to 
be loaded by the \emph{third-party} tool. An OpenMP implementation does not need 
to maintain any extra information to support OMPD inquiries from \emph{third-party} 
tools \emph{unless} it is explicitly instructed to do so.

\section{Tool Interfaces Definitions}
\index{tool interfaces definitions}
\index{tools header files}
\label{sec:tool_interfaces_definitions}

\begin{ccppspecific}

A compliant implementation must supply a set of definitions for the OMPT runtime entry 
points, OMPT callback signatures, OMPD runtime entry points, OMPD tool callback 
signatures, OMPD tool interface routines, and the special data types of their parameters 
and return values.

The set of definitions is provided in a header file named \code{omp-tools.h} and must 
contain a declaration for each of the types defined in 
Sections~\ref{sec:ompt-data-types} - \ref{sec:entry-points} and
\ref{subsec:ompd-data-types} - \ref{subsec:runtime-entry-points-for-ompd}. 

In addition, the set of definitions may specify other implementation specific values.

The \code{ompt_start_tool} function, the \code{ompd_dll_locations} function, all OMPD 
tool interface functions, and all OMPD runtime entry points are external functions with 
\code{C} linkage.
	
			
\end{ccppspecific}



% OMPT
\input{tool_support/tool_support_common.tex}
\input{tool_support/tool_support_callbacks.tex}
\input{tool_support/tool_support_entrypoints.tex}

% OMPD
\input{tool_support/tool_support_debug.tex}


\input{tool_support/foundation.tex}
